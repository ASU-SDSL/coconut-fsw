<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Coconut CubeSat: STEVE</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Coconut CubeSat
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">STEVE </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="steve"></a></p>
<p>Scheduler Task for Executing Vital Events (STEVE) is a core Coconut component that schedules misson-critical, time-sensitive jobs. Jobs can either be scheduled once or can be recurring. Jobs can be scheduled using STEVE's api functions. You must provide a job name, job function pointer, and recur/delay time in order to schedule a job.</p>
<h1 class="doxsection"><a class="anchor" id="type-definitions-3"></a>
Type Definitions</h1>
<h2 class="doxsection"><a class="anchor" id="steve_job_t"></a>
steve_job_t</h2>
<p>The <span class="tt"><a class="el" href="steve_8h.html#a25929e46953687fd6d5ee3b8e20f43fb">steve_job_t</a></span> type is a struct that represents a steve job. In order to create a steve job, you must provide these fields: <br  />
</p><ul>
<li>name: The name of the job</li>
<li>execute_time: The tick that the job will be ran</li>
<li>recur_time: how many ticks until the job recurs. null for non-recurring jobs</li>
<li>func_ptr: function pointer to the function that steve will run</li>
<li>arg_data: pointer to the arguments of the job function</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="steve_context_t"></a>
steve_context_t</h2>
<p><span class="tt"><a class="el" href="steve_8h.html#a817235360af6665352ce7b8146d1ffc5">steve_context_t</a></span> is the type for the global steve context. The struct requires a few fields: <br  />
</p><ul>
<li>jobs: array of <span class="tt"><a class="el" href="steve_8h.html#a25929e46953687fd6d5ee3b8e20f43fb">steve_job_t</a></span> pointers that acts as the storage for all jobs</li>
<li>job_count: amount of jobs currently allocated</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="globals-3"></a>
Globals</h1>
<h2 class="doxsection"><a class="anchor" id="g_steve_context"></a>
g_steve_context</h2>
<p><span class="tt"><a class="el" href="steve_8h.html#a598c2d1bb858ac5a4ca951addc49cb1e" title="Global Scheduler Context.">g_steve_context</a></span> is the global that represents the global steve context, which contains all jobs. It is of type <span class="tt"><a class="el" href="steve_8h.html#a817235360af6665352ce7b8146d1ffc5">steve_context_t</a></span>.</p>
<h1 class="doxsection"><a class="anchor" id="api-functions-3"></a>
API Functions</h1>
<details >
<summary >
schedule_recurring_job_ms()</summary>
<p></p>
<p></p>
</details>
<h3 class="doxsection"><a class="anchor" id="description-8"></a>
Description</h3>
<blockquote class="doxtable">
<p>Schedules a job that recurs every <span class="tt">ms_until_recur</span> milliseconds. </p>
</blockquote>
<h3 class="doxsection"><a class="anchor" id="parameters-8"></a>
Parameters</h3>
<blockquote class="doxtable">
<p>| Name | Type | Description | | -&mdash; | -&mdash; | --------&mdash; | | job_name | const char* | name of job | | job_func_pointer | <a class="el" href="steve_8h.html#a4d42ee224194e404f838eb3154ab8205" title="Job function header type.">job_func</a> | pointer to function of job | | ms_until_recur | unsigned long | milliseconds until job recurs | </p>
</blockquote>
<h3 class="doxsection"><a class="anchor" id="returns-8"></a>
Returns</h3>
<blockquote class="doxtable">
<p>None </p>
</blockquote>
<details >
<summary >
schedule_recurring_job_secs()</summary>
<p></p>
<p></p>
</details>
<h3 class="doxsection"><a class="anchor" id="description-9"></a>
Description</h3>
<blockquote class="doxtable">
<p>Schedules a job that recurs every <span class="tt">secs_until_recur</span> seconds. </p>
</blockquote>
<h3 class="doxsection"><a class="anchor" id="parameters-9"></a>
Parameters</h3>
<blockquote class="doxtable">
<p>| Name | Type | Description | | -&mdash; | -&mdash; | --------&mdash; | | job_name | const char* | name of job | | job_func_pointer | <a class="el" href="steve_8h.html#a4d42ee224194e404f838eb3154ab8205" title="Job function header type.">job_func</a> | pointer to function of job | | secs_until_recur | unsigned long | seconds until job recurs | </p>
</blockquote>
<h3 class="doxsection"><a class="anchor" id="returns-9"></a>
Returns</h3>
<blockquote class="doxtable">
<p>None </p>
</blockquote>
<details >
<summary >
schedule_recurring_job_mins()</summary>
<p></p>
<p></p>
</details>
<h3 class="doxsection"><a class="anchor" id="description-10"></a>
Description</h3>
<blockquote class="doxtable">
<p>Schedules a job that recurs every <span class="tt">mins_until_recur</span> minutes. </p>
</blockquote>
<h3 class="doxsection"><a class="anchor" id="parameters-10"></a>
Parameters</h3>
<blockquote class="doxtable">
<p>| Name | Type | Description | | -&mdash; | -&mdash; | --------&mdash; | | job_name | const char* | name of job | | job_func_pointer | <a class="el" href="steve_8h.html#a4d42ee224194e404f838eb3154ab8205" title="Job function header type.">job_func</a> | pointer to function of job | | mins_until_recur | unsigned long | minutes until job recurs | </p>
</blockquote>
<h3 class="doxsection"><a class="anchor" id="returns-10"></a>
Returns</h3>
<blockquote class="doxtable">
<p>None </p>
</blockquote>
<details >
<summary >
schedule_delayed_job_ms()</summary>
<p></p>
<p></p>
</details>
<h3 class="doxsection"><a class="anchor" id="description-11"></a>
Description</h3>
<blockquote class="doxtable">
<p>Schedules a job that will run once after a delay of <span class="tt">ms_delay</span> milliseconds. </p>
</blockquote>
<h3 class="doxsection"><a class="anchor" id="parameters-11"></a>
Parameters</h3>
<blockquote class="doxtable">
<p>| Name | Type | Description | | -&mdash; | -&mdash; | --------&mdash; | | job_name | const char* | name of job | | job_func_pointer | <a class="el" href="steve_8h.html#a4d42ee224194e404f838eb3154ab8205" title="Job function header type.">job_func</a> | pointer to function of job | | ms_delay | unsigned long | delay in milliseconds | </p>
</blockquote>
<h3 class="doxsection"><a class="anchor" id="returns-11"></a>
Returns</h3>
<blockquote class="doxtable">
<p>None </p>
</blockquote>
<details >
<summary >
schedule_delayed_job_secs()</summary>
<p></p>
<p></p>
</details>
<h3 class="doxsection"><a class="anchor" id="description-12"></a>
Description</h3>
<blockquote class="doxtable">
<p>Schedules a job that will run once after a delay of <span class="tt">secs_delay</span> seconds. </p>
</blockquote>
<h3 class="doxsection"><a class="anchor" id="parameters-12"></a>
Parameters</h3>
<blockquote class="doxtable">
<p>| Name | Type | Description | | -&mdash; | -&mdash; | --------&mdash; | | job_name | const char* | name of job | | job_func_pointer | <a class="el" href="steve_8h.html#a4d42ee224194e404f838eb3154ab8205" title="Job function header type.">job_func</a> | pointer to function of job | | secs_delay | unsigned long | delay in seconds | </p>
</blockquote>
<h3 class="doxsection"><a class="anchor" id="returns-12"></a>
Returns</h3>
<blockquote class="doxtable">
<p>None </p>
</blockquote>
<details >
<summary >
schedule_delayed_job_mins()</summary>
<p></p>
<p></p>
</details>
<h3 class="doxsection"><a class="anchor" id="description-13"></a>
Description</h3>
<blockquote class="doxtable">
<p>Schedules a job that will run once after a delay of <span class="tt">mins_delay</span> minutes. </p>
</blockquote>
<h3 class="doxsection"><a class="anchor" id="parameters-13"></a>
Parameters</h3>
<blockquote class="doxtable">
<p>| Name | Type | Description | | -&mdash; | -&mdash; | --------&mdash; | | job_name | const char* | name of job | | job_func_pointer | <a class="el" href="steve_8h.html#a4d42ee224194e404f838eb3154ab8205" title="Job function header type.">job_func</a> | pointer to function of job | | mins_delay | unsigned long | delay in minutes | </p>
</blockquote>
<h3 class="doxsection"><a class="anchor" id="returns-13"></a>
Returns</h3>
<blockquote class="doxtable">
<p>None </p>
</blockquote>
<details >
<summary >
kill_steve_job()</summary>
<p></p>
<p></p>
</details>
<h3 class="doxsection"><a class="anchor" id="description-14"></a>
Description</h3>
<blockquote class="doxtable">
<p>Kills a steve job with the name of <span class="tt">job_name</span>. </p>
</blockquote>
<h3 class="doxsection"><a class="anchor" id="parameters-14"></a>
Parameters</h3>
<blockquote class="doxtable">
<p>| Name | Type | Description | | -&mdash; | -&mdash; | --------&mdash; | | job_name | const char* | name of job to kill | </p>
</blockquote>
<h3 class="doxsection"><a class="anchor" id="returns-14"></a>
Returns</h3>
<blockquote class="doxtable">
<p>None </p>
</blockquote>
<details >
<summary >
edit_steve_job_recur_time()</summary>
<p></p>
<p></p>
</details>
<h3 class="doxsection"><a class="anchor" id="description-15"></a>
Description</h3>
<blockquote class="doxtable">
<p>Updates the time at which a job recurs with <span class="tt">ms_recur_time</span> milliseconds. </p>
</blockquote>
<h3 class="doxsection"><a class="anchor" id="parameters-15"></a>
Parameters</h3>
<blockquote class="doxtable">
<p>| Name | Type | Description | | -&mdash; | -&mdash; | --------&mdash; | | job_name | const char* | name of job to edit | | ms_recur_time | unsigned long | new recur time in milliseconds | </p>
</blockquote>
<h3 class="doxsection"><a class="anchor" id="returns-15"></a>
Returns</h3>
<blockquote class="doxtable">
<p>None </p>
</blockquote>
<details >
<summary >
print_debug_exec_times()</summary>
<p></p>
<p></p>
</details>
<h3 class="doxsection"><a class="anchor" id="description-16"></a>
Description</h3>
<blockquote class="doxtable">
<p>Prints all the currently queued STEVE jobs and the time until they run in milliseconds. </p>
</blockquote>
<h3 class="doxsection"><a class="anchor" id="parameters-16"></a>
Parameters</h3>
<blockquote class="doxtable">
<p>None </p>
</blockquote>
<h3 class="doxsection"><a class="anchor" id="returns-16"></a>
Returns</h3>
<blockquote class="doxtable">
<p>None </p>
</blockquote>
<h1 class="doxsection"><a class="anchor" id="internal-functions-3"></a>
Internal Functions</h1>
<h2 class="doxsection"><a class="anchor" id="note-these-functions-should-never-be-run-outside-of-stevec"></a>
Note: These functions should <em><b>NEVER</b></em> be run outside of <span class="tt">steve.c</span></h2>
<details >
<summary >
initialize_steve()</summary>
<p></p>
<p></p>
</details>
<h3 class="doxsection"><a class="anchor" id="description-17"></a>
Description</h3>
<blockquote class="doxtable">
<p>Initializes steve. Must be run before any other functions. </p>
</blockquote>
<h3 class="doxsection"><a class="anchor" id="parameters-17"></a>
Parameters</h3>
<blockquote class="doxtable">
<p>None </p>
</blockquote>
<h3 class="doxsection"><a class="anchor" id="returns-17"></a>
Returns</h3>
<blockquote class="doxtable">
<p>None </p>
</blockquote>
<details >
<summary >
find_steve_job()</summary>
<p></p>
<p></p>
</details>
<h3 class="doxsection"><a class="anchor" id="description-18"></a>
Description</h3>
<blockquote class="doxtable">
<p>Finds steve job with given <span class="tt">job_name</span> and returns the pointer to the steve job struct. The <span class="tt">g_steve_job_mutex</span> must be taken before using this function. </p>
</blockquote>
<h3 class="doxsection"><a class="anchor" id="parameters-18"></a>
Parameters</h3>
<blockquote class="doxtable">
<p>| Name | Type | Description | | -&mdash; | -&mdash; | --------&mdash; | | job_name | const char* | name of job to find | </p>
</blockquote>
<h3 class="doxsection"><a class="anchor" id="returns-18"></a>
Returns</h3>
<blockquote class="doxtable">
<p>steve_job_t* </p>
</blockquote>
<details >
<summary >
create_steve_job()</summary>
<p></p>
<p></p>
</details>
<h3 class="doxsection"><a class="anchor" id="description-19"></a>
Description</h3>
<blockquote class="doxtable">
<p>Schedules a new job given by the struct pointer <span class="tt">sr</span>. </p>
</blockquote>
<h3 class="doxsection"><a class="anchor" id="parameters-19"></a>
Parameters</h3>
<blockquote class="doxtable">
<p>| Name | Type | Description | | -&mdash; | -&mdash; | --------&mdash; | | sr | steve_job_t* | struct pointer for new job | </p>
</blockquote>
<h3 class="doxsection"><a class="anchor" id="returns-19"></a>
Returns</h3>
<blockquote class="doxtable">
<p>None </p>
</blockquote>
<details >
<summary >
run_steve_job()</summary>
<p></p>
<p></p>
</details>
<h3 class="doxsection"><a class="anchor" id="description-20"></a>
Description</h3>
<blockquote class="doxtable">
<p>Run the job function given by the struct pointer. The <span class="tt">g_steve_job_mutex</span> must be taken before using this function. </p>
</blockquote>
<h3 class="doxsection"><a class="anchor" id="parameters-20"></a>
Parameters</h3>
<blockquote class="doxtable">
<p>| Name | Type | Description | | -&mdash; | -&mdash; | --------&mdash; | | job | steve_job_t* | struct pointer for job to be run | </p>
</blockquote>
<h3 class="doxsection"><a class="anchor" id="returns-20"></a>
Returns</h3>
<blockquote class="doxtable">
<p>bool </p>
</blockquote>
<details >
<summary >
delete_steve_job()</summary>
<p></p>
<p></p>
</details>
<h3 class="doxsection"><a class="anchor" id="description-21"></a>
Description</h3>
<blockquote class="doxtable">
<p>Deletes the given job from the scheduler. The <span class="tt">g_steve_job_mutex</span> must be taken before using this function. </p>
</blockquote>
<h3 class="doxsection"><a class="anchor" id="parameters-21"></a>
Parameters</h3>
<blockquote class="doxtable">
<p>| Name | Type | Description | | -&mdash; | -&mdash; | --------&mdash; | | job | steve_job_t* | struct pointer for job to be deleted | </p>
</blockquote>
<h3 class="doxsection"><a class="anchor" id="returns-21"></a>
Returns</h3>
<blockquote class="doxtable">
<p>None </p>
</blockquote>
<details >
<summary >
cleanup_steve_jobs_list()</summary>
<p></p>
<p></p>
</details>
<h3 class="doxsection"><a class="anchor" id="description-22"></a>
Description</h3>
<blockquote class="doxtable">
<p>Finds null entries in the jobs list and removes them. The <span class="tt">g_steve_job_mutex</span> must be taken before using this function. </p>
</blockquote>
<h3 class="doxsection"><a class="anchor" id="parameters-22"></a>
Parameters</h3>
<blockquote class="doxtable">
<p>None </p>
</blockquote>
<h3 class="doxsection"><a class="anchor" id="returns-22"></a>
Returns</h3>
<blockquote class="doxtable">
<p>None </p>
</blockquote>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
